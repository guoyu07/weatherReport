
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
<link rel="icon" href="https://static.jianshukeji.com/highcharts/images/favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1">	<script src="https://img.hcharts.cn/jquery/jquery-1.8.3.min.js"></script>
	<script src="https://img.hcharts.cn/highcharts/highcharts.js"></script>
	<script src="https://img.hcharts.cn/highcharts/modules/exporting.js"></script>
	<script src="https://img.hcharts.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
</head>
<body>
<!--
*************************************************************************
   Generated by HCODE at 2017-06-03 20:28:21
   From: https://code.hcharts.cn/demos/hhhhxc
*************************************************************************
 -->
	<div id="container" style="min-width:400px;height:400px"></div>
<script>
	$(function () {
		$.ajax({
			url: "http://localhost:3000/api/weather/",
			cache: false,
			success: function(data){
			  	data=JSON.parse(data);
			  	alert(data);
				$('#container').highcharts({
					        chart: {
					            zoomType: 'xy'
					        },
					        title: {
					            text: data.data.cityName+'天气数据'
					        },
					        subtitle: {
					            text: 'kiwis.com'
					        },
					        xAxis: [{
					            categories: [data.data.list[0].date, data.data.list[1].date,data.data.list[2].date,data.data.list[3].date,data.data.list[4].date,data.data.list[5].date,data.data.list[6].date],
					            crosshair: true
					        }],
					        yAxis: [{ // Primary yAxis
					            labels: {
					                format: '{value}°C',
					                style: {
					                    color: Highcharts.getOptions().colors[2]
					                }
					            },
					            title: {
					                text: '白天温度',
					                style: {
					                    color: Highcharts.getOptions().colors[2]
					                }
					            },
					            opposite: true
					        }, { // Secondary yAxis
					            gridLineWidth: 0,
					            title: {
					                text: '夜间气温',
					                style: {
					                    color: Highcharts.getOptions().colors[1]
					                }
					            },
					            labels: {
					                format: '{value} °C',
					                style: {
					                    color: Highcharts.getOptions().colors[1]
					                }
					            }
					        }],
					        tooltip: {
					            shared: true
					        },
					        legend: {
					            layout: 'vertical',
					            align: 'left',
					            x: 80,
					            verticalAlign: 'top',
					            y: 55,
					            floating: true,
					            backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#fff'
					        },
					        series: [{
					            name: '夜间气温',
					            type: 'spline',
					            yAxis: 1,
					            data: [parseFloat(data.data.list[0].qw2),parseFloat(data.data.list[1].qw2),parseFloat(data.data.list[2].qw2),parseFloat(data.data.list[3].qw2),parseFloat(data.data.list[4].qw2),parseFloat(data.data.list[5].qw2),parseFloat(data.data.list[6].qw2)],
					            tooltip: {
					                valueSuffix: ' °C'
					            }
					        }, {
					            name: '白天温度',
					            type: 'spline',
					            data: [parseFloat(data.data.list[0].qw1),parseFloat(data.data.list[1].qw1),parseFloat(data.data.list[2].qw1),parseFloat(data.data.list[3].qw1),parseFloat(data.data.list[4].qw1),parseFloat(data.data.list[5].qw1),parseFloat(data.data.list[6].qw1)],
					            tooltip: {
					                valueSuffix: ' °C'
					            }
					        }]
				 });

			   }
			});
		    
	});


</script>
</body>
</html>